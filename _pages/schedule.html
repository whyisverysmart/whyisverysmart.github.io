---
layout: archive
title: "Schedule"
permalink: /schedule/
author_profile: true
---

<style>
    .schedule-table {
        width: 100%;
        table-layout: fixed;
        margin: auto;
        border-collapse: collapse;
        font-family: 'Georgia', serif;
        font-size: 14px;
    }
    .schedule-table th {
        background-color: #eaeaea;
        border: 2px solid #ddd;
        text-align: center;
        font-weight: bold;
        color: #333;
        padding: 8px;
        font-size: 1.1em;
        word-wrap: break-word;
        overflow-wrap: break-word;
        word-break: break-all;
    }
    .schedule-table td {
        border: 1px solid #ddd;
        text-align: center;
        color: #555;
        word-wrap: break-word;
        overflow-wrap: break-word;
        word-break: break-all;
        position: relative;
        padding: 8px;
        font-size: 1em;
    }
    .schedule-table .time-col {
         background-color: #f5f5f5;
         border-right: 2px solid #bbb;
         border-left: 2px solid #bbb;
         color: #444;
         font-weight: bold;
         text-align: center;
         word-wrap: break-word;
         overflow-wrap: break-word;
         word-break: break-all;
    }
    .schedule-table .activity {
        font-style: italic;
        border: 1px solid #ffcc80;
        background-color: #fffae6;
        color: #333;
        font-weight: normal;
    }
    .empty {}
    .hide {
        display: none;
    }
    .current-time-data {
        font-weight: bold;
    }
    .current-time-marker {
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: red;
    }
</style>

<div style="text-align: center; margin: 20px auto;">
    <table class="schedule-table">
        <thead>
            <tr>
                <th class="empty"></th>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
                <th>Saturday</th>
                <th>Sunday</th>
            </tr>
        </thead>
        <tbody>
            <tr data-time="08">
                <td class="time-col">08:00 - 09:00</td>
                <td class="empty"></td>
                <td class="activity" rowspan="2">CS3333-01</td>
                <td class="activity" rowspan="2">CS3340-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="09">
                <td class="time-col">09:00 - 10:00</td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="10">
                <td class="time-col">10:00 - 11:00</td>
                <td class="activity">InfiniAI</td>
                <td class="activity" rowspan="2">CS3612-01</td>
                <td class="empty"></td>
                <td class="activity" rowspan="2">CS3321-01</td>
                <td class="activity" rowspan="2">CS3333-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="11">
                <td class="time-col">11:00 - 12:00</td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="12">
                <td class="time-col">12:00 - 13:00</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="13">
                <td class="time-col">13:00 - 14:00</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="14">
                <td class="time-col">14:00 - 15:00</td>
                <td class="activity" rowspan="2">CS3321-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="activity" rowspan="2">LUMIA</td>
                <td class="activity" rowspan="2">CS3612-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="15">
                <td class="time-col">15:00 - 16:00</td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="16">
                <td class="time-col">16:00 - 17:00</td>
                <td class="empty"></td>
                <td class="activity" rowspan="2">MATH4704-01</td>
                <td class="empty"></td>
                <td class="activity" rowspan="2">MATH4704-01</td>
                <td class="activity" rowspan="2">CS3340-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="17">
                <td class="time-col">17:00 - 18:00</td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="18">
                <td class="time-col">18:00 - 19:00</td>
                <td class="activity" rowspan="3">LUMIA</td>
                <td class="activity" rowspan="3">MATH3611-01</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="activity" rowspan="3">MATH3605-02</td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="19">
                <td class="time-col">19:00 - 20:00</td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="20">
                <td class="time-col">20:00 - 21:00</td>
                <td class="hide"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="hide"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="21">
                <td class="time-col">21:00 - 22:00</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="22">
                <td class="time-col">22:00 - 23:00</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
            <tr data-time="23">
                <td class="time-col">23:00 - 24:00</td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
                <td class="empty"></td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    function getTimeInUTC8() {
        let now = new Date();
        let options = {
            timeZone: "Asia/Shanghai",
            hour12: false,
            weekday: "short",
            hour: "2-digit",
            minute: "2-digit"
        };
        let formatter = new Intl.DateTimeFormat("en-US", options);
        let formattedParts = formatter.formatToParts(now);
        let time = {};
        let weekdayMap = { "Mon": 1, "Tue": 2, "Wed": 3, "Thu": 4, "Fri": 5, "Sat": 6, "Sun": 7 };
        formattedParts.forEach(part => {
            if (part.type === "hour") time.hour = parseInt(part.value);
            if (part.type === "minute") time.minute = parseInt(part.value);
            if (part.type === "weekday") time.weekday = weekdayMap[part.value];
        });
        return time;
    }
    function updateCurrentTimeLine() {
        document.querySelectorAll(".current-time-marker").forEach(marker => {
            marker.remove();
        });
        document.querySelectorAll(".current-time-data").forEach(element => {
            element.classList.remove("current-time-data");
        });
        
        let currentTime = getTimeInUTC8();
        let hours = currentTime.hour;
        if (hours < 8) return;
        let minutes = currentTime.minute;
        let week = currentTime.weekday;

        let rows = document.querySelectorAll('.schedule-table tbody tr');
        let target_row = rows[hours-8];
        let columns = target_row.querySelectorAll('td');
        let target_td = columns[week];
        let i = 1;
        for (; target_td.classList.contains('hide'); i++) {
            target_td = rows[hours-8-i].querySelectorAll('td')[week];
        }
        let rowspan = parseInt(target_td.getAttribute('rowspan'), 10) || 1;
        let percentage = ((i - 1 + (minutes / 60)) / rowspan) * 100;
        let marker = document.createElement("div");
        marker.className = "current-time-marker";
        marker.style.top = `${percentage}%`;
        target_td.appendChild(marker);
        target_td.classList.add("current-time-data");
    }
    updateCurrentTimeLine();
    setInterval(updateCurrentTimeLine, 60000);
</script>
